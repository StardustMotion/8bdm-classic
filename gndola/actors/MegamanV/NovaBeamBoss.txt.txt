actor NovaBeamBoss : BaseMM8BDMWep_CBM
{
tag "$TAGC_VJ"
dropitem "NovaBeamWepCDropped"
Weapon.AmmoUse 0
Weapon.AmmoGive 0
Weapon.SlotNumber 1
Obituary "$OB_SUNSDEFAULT"
Inventory.Pickupmessage "VERITABLE WEAPON SYSTEMS ONLINE..."
weapon.ammotype "NuclearOverclockAmmo"
weapon.ammotype2 "NuclearOverheatAmmo"
States
{
Spawn:
C_00 X 1
loop
Ready:
SUHA A 0
SUHA A 0 ACS_ExecuteAlways(998,0,DYE_SUNSTAR)
SUHA A 0 A_GunFlash
SUHA A 0 A_SpawnItemEx("SunstarOverheatFXWatcherSpawner")
goto Ready1
Ready1:
SUHA A 0
SUHA A 1 A_WeaponReady
wait
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
SUHA A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
SUHA A 1 A_Raise
Loop
Fire:
SUHA C 0 A_JumpIfInventory("NuclearOverclockAmmo",120,"FireOV")
SUHA C 0 A_PlaySound("weapon/sunstardyson",CHAN_WEAPON,0.6)
SUHA B 0 A_GiveInventory("SunstarMain_CI")
SUHA BCCB 2
SUHA A 22
Goto Ready1
FireOV:
SUHA C 0 A_PlaySound("weapon/sunstardyson",CHAN_WEAPON,0.6)
SUHA C 0 A_PlaySound("weapon/sunstarextra",CHAN_AUTO,0.6)
SUHA B 2 A_GiveInventory("SunstarMain2_CI")
SUHA EILK 2
Goto HighTemp
SUHA J 0
SUHA J 20 A_WeaponReady(14)
TNT1 A 0 A_JumpIfInventory("NuclearOverclockAmmo",120,1)
Goto Ready1
SUHA J 1 A_GunFlash("Flash_Temp")
SUHA G 1  
TNT1 A 0 A_JumpIfInventory("NuclearOverclockAmmo",120,1)
Goto Ready1
SUHA G 2  
TNT1 A 0 A_JumpIfInventory("NuclearOverclockAmmo",120,1)
Goto Ready1
SUHA D 2  
SUHA AA 2 A_WeaponReady(14)
TNT1 A 0
Goto Ready1
HighTemp:
TNT1 A 0 A_JumpIfInventory("NuclearOverheatAmmo",120,5)
TNT1 A 0 A_JumpIfInventory("NuclearOverheatAmmo",96,7)
TNT1 A 0 A_JumpIfInventory("NuclearOverheatAmmo",72,9)
TNT1 A 0 A_JumpIfInventory("NuclearOverheatAmmo",48,11)
TNT1 A 0 A_JumpIfInventory("NuclearOverheatAmmo",24,13)
Goto FireOV+7
SUHA J 1 Offset(3,0) A_PlaySound("weapon/sunstaroverheat",CHAN_BODY,0.2)
SUHA J 1 Offset(-3,0)
SUHA J 1 Offset(3,0) 
SUHA J 1 Offset(3,0) A_PlaySound("weapon/sunstaroverheat",CHAN_BODY,0.2)
SUHA J 1 Offset(-3,0)
SUHA J 1 Offset(3,0)
SUHA J 1 Offset(2,0) A_PlaySound("weapon/sunstaroverheat",CHAN_BODY,0.2)
SUHA J 1 Offset(-2,0)
SUHA J 1 Offset(2,0)
SUHA J 1 Offset(2,0) A_PlaySound("weapon/sunstaroverheat",CHAN_BODY,0.2)
SUHA J 1 Offset(-2,0)
SUHA J 1 Offset(2,0)
SUHA J 1 Offset(1,0) A_PlaySound("weapon/sunstaroverheat",CHAN_BODY,0.2)
SUHA J 1 Offset(-1,0)
SUHA J 1 Offset(1,0) 
SUHA J 1 Offset(1,0) A_PlaySound("weapon/sunstaroverheat",CHAN_BODY,0.2)
SUHA J 1 Offset(-1,0)
SUHA J 1 Offset(1,0)
Goto FireOV+7
Altfire:
SUHA C 0 A_JumpIfInventory("NuclearOverclockAmmo",120,"AltFireOV")
SUHA C 0 A_PlaySound("weapon/sunstarscorch",CHAN_WEAPON,0.9)
SUHA C 0 A_GiveInventory("SunstarAlt_CI")
SUHA A 1 Offset(0, 42)
SUHA B 1 Offset(0, 52)
SUHA B 1 Offset(0, 69)
SUHA C 1 Offset(0, 73)
SUHA C 1 Offset(0, 84)
SUHA C 1 Offset(0, 85)
SUHA C 1 Offset(0, 86)
SUHA C 1 Offset(0, 87)
SUHA C 1 Offset(0, 86)
SUHA C 1 Offset(0, 85)
SUHA C 1 Offset(0, 84)
SUHA C 1 Offset(0, 73)
SUHA C 1 Offset(0, 69)
SUHA A 1 Offset(0, 52)
SUHA A 1 Offset(0, 42)
SUHA A 1 A_WeaponReady(14)
SUHA A 11
Goto Ready1
AltFireOV:
SUHA C 0 A_PlaySound("weapon/sunstarscorch",CHAN_WEAPON,0.9)
SUHA C 0 A_JumpIfInventory("SunstarFireStopFlag2",1,"Altfire2")
SUHA C 0 A_TakeInventory("SunstarFireStopFlag")
SUHA C 0 A_GiveInventory("SunstarFireStopFlag2")
SUHA B 2 A_GiveInventory("SunstarAlt1_CI")
SUHA EILK 2
Goto HighTemp
SUHA J 0
SUHA J 10 A_WeaponReady(14)
TNT1 A 0 A_JumpIfInventory("NuclearOverclockAmmo",120,1)
Goto Ready1
SUHA J 2 A_GunFlash("Flash_Temp")
TNT1 A 0 A_JumpIfInventory("NuclearOverclockAmmo",120,1)
Goto Ready1
SUHA G 2  
TNT1 A 0 A_JumpIfInventory("NuclearOverclockAmmo",120,1)
Goto Ready1
SUHA D 2  
SUHA A 1  
TNT1 A 0
Goto Ready1
Altfire2:
SUHA C 0 A_TakeInventory("SunstarFireStopFlag2")
SUHA C 0 A_GiveInventory("SunstarFireStopFlag")
SUHA B 2 A_GiveInventory("SunstarAlt2_CI")
SUHA EILK 2
Goto HighTemp
SUHA J 0
SUHA J 10 A_WeaponReady(14)
TNT1 A 0 A_JumpIfInventory("NuclearOverclockAmmo",120,1)
Goto Ready1
SUHA J 2   A_GunFlash("Flash_Temp")
TNT1 A 0 A_JumpIfInventory("NuclearOverclockAmmo",120,1)
Goto Ready1
SUHA G 2  
TNT1 A 0 A_JumpIfInventory("NuclearOverclockAmmo",120,1)
Goto Ready1
SUHA D 2  
SUHA A 1  
TNT1 A 0
Goto Ready1
Flash:
TNT1 AAAAA 2 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_GiveInventory("NuclearOverclockAmmo",2)
loop
Flash_Temp:
SUHA A 0 A_PlaySound("weapon/sunstarcooldown",CHAN_BODY,0.15)
SUHA MMNNOOP 2 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_GiveInventory("NuclearOverclockAmmo",2)
SUHA P 2 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 AA 2 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_GiveInventory("NuclearOverclockAmmo",2)
Goto Flash
NoFlash:
TNT1 A 0
stop
}
}

actor NuclearOverclockAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 120
+INVENTORY.IGNORESKILL
}

actor NuclearOverheatAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 120
+INVENTORY.IGNORESKILL
}

actor SunstarItemAnimFlag : PowerUp
{
Powerup.Duration 7
}

actor SunstarFireStopFlag : OnceC{}

actor SunstarFireStopFlag2 : SunstarFireStopFlag {}

actor SolarVentItem : CustomInventory
{
inventory.icon "SunSIcon"
Inventory.MaxAmount 1
inventory.pickupmessage "Shunts nuclear energy into a blast of raw light that rivals the sun!"
Tag ""
scale 2.0
+INVBAR
states
{
Spawn:
SUNS Z 1
loop
Use:
TNT1 A 0 
TNT1 A 0 A_JumpIfInventory("NuclearOverheatAmmo",120,"Success2")
TNT1 A 0 A_JumpIfInventory("NuclearOverclockAmmo",120,"Success")
fail
Success:
TNT1 A 0 A_PlaySound("weapon/sunstarvent",CHAN_BODY,1,0,1)
TNT1 A 0 A_GiveInventory("SunstarItemAnimFlag")
TNT1 A 0 A_GiveInventory("SunstarReload_CI")
TNT1 A 0 ACS_NamedExecuteWithResult("SunstarBarTransfer")
TNT1 A 0 A_PlaySound("weapon/sunstarvent2",CHAN_ITEM,1,0,1)
fail
Success2:
TNT1 A 0 A_PlaySound("weapon/sunstarvent",CHAN_BODY,1,0,1)
TNT1 A 0 A_TakeInventory("NuclearOverheatAmmo",999)
TNT1 A 0 A_GiveInventory("SunstarItemAnimFlag")
TNT1 A 0 A_GiveInventory("SunstarReload_CI")
TNT1 A 0 A_PlaySound("weapon/sunstarvent2",CHAN_ITEM,1,0,1)
fail
}
}

actor ScorchedLand
{
PROJECTILE
+DONTBLAST
+DONTREFLECT
//-NOGRAVITY
+SKYEXPLODE
+THRUACTORS
translation "192:193=55:55","242:242=219:219","0:9=4:4", "199:199=219:219", "202:202=55:55"
Damagetype "DMGNoHitstun"
Obituary "$OB_SUNSLAND"
Radius 25
Height 1
Damage (20)
Speed 35
Scale 1.5
//Gravity 1
States
{
Spawn:
ICWB R 0
TNT1 A 0 ACS_NamedExecuteAlways("BULL_Tidifier", 0)
goto Spawn2
Spawn2:
TNT1 AAA 1 A_SpawnItemEx("ScorchedLandTravelFX",0,0,-(z-floorz),0,0,0,0,1)
TNT1 AAA 1 A_SpawnItemEx("ScorchedLandTravelFX2",0,0,-(z-floorz),0,0,0,0,1)
TNT1 AAA 1 A_SpawnItemEx("ScorchedLandTravelFX",0,0,-(z-floorz),0,0,0,0,1)
TNT1 AAA 1 A_SpawnItemEx("ScorchedLandTravelFX2",0,0,-(z-floorz),0,0,0,0,1)
TNT1 AAA 1 A_SpawnItemEx("ScorchedLandTravelFX",0,0,-(z-floorz),0,0,0,0,1)
goto Spawn3
Spawn3:
TNT1 A 1 A_SpawnItemEx("ScorchedLandTravelFX2",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"StopExisting")
TNT1 A 1 A_SpawnItemEx("ScorchedLandTravelFX2",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"StopExisting")
TNT1 A 1 A_SpawnItemEx("ScorchedLandTravelFX2",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"StopExisting")
TNT1 A 1 A_SpawnItemEx("ScorchedLandTravelFX",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"StopExisting")
TNT1 A 1 A_SpawnItemEx("ScorchedLandTravelFX",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"StopExisting")
TNT1 A 1 A_SpawnItemEx("ScorchedLandTravelFX",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"StopExisting")
loop
Death:
TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFXSpawner",0,0,8,random(6,12),0,random(4,10),random(10,80),1|SXF_NOCHECKPOSITION)
CDRL C 0 A_JumpIf(z-floorz<5,"Floor")
CDRL C 0 A_JumpIf(z-ceilingz==0-6,"Floor")
TNT1 A 0 A_SpawnItemEx("ScorchedLandSpawner",-20,0,-(z-floorz),6,0,0,90,1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ScorchedLandSpawner2",-20,0,-(z-floorz),6,0,0,-90,1|SXF_NOCHECKPOSITION)
TNT1 A 1
stop
Floor:
TNT1 A 0 A_SpawnItemEx("ScorchedLandSpawner",0,0,-(z-floorz),6,0,0,90,1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ScorchedLandSpawner2",0,0,-(z-floorz),6,0,0,-90,1|SXF_NOCHECKPOSITION)
TNT1 A 1
stop
StopExisting:
TNT1 A 0
stop
}
}

actor ScorchedLandB : ScorchedLand{translation "192:193=205:205","242:242=74:74","0:9=4:4", "199:199=74:74", "202:202=205:205"}
actor ScorchedLandR : ScorchedLand{translation "192:193=171:171","242:242=41:41","0:9=4:4", "199:199=41:41", "202:202=171:171"}
actor ScorchedLandO : ScorchedLand{translation "192:193=104:104","242:242=128:128","0:9=4:4", "199:199=128:128", "202:202=104:104"}
actor ScorchedLandP : ScorchedLand{translation "192:193=229:229","242:242=232:232","0:9=4:4", "199:199=232:232", "202:202=229:229"}

actor ScorchedLandD : ScorchedLand
{
states
{
Spawn:
ICWB R 0
TNT1 A 0 ACS_NamedExecuteAlways("BULL_Tidifier", 0)
goto Spawn2
Spawn2:
TNT1 AAA 1 A_SpawnItemEx("ScorchedLandTravelFX",0,0,-(z-floorz),0,0,0,0,1)
TNT1 AAA 1 A_SpawnItemEx("ScorchedLandTravelFX2",0,0,-(z-floorz),0,0,0,0,1)
loop
Crash:
TNT1 A 0
stop
Death:
TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFXSpawner",0,0,8,random(6,12),0,random(4,10),random(10,80),1|SXF_NOCHECKPOSITION)
CDRL C 0 A_JumpIf(z-floorz<5,"Floor")
CDRL C 0 A_JumpIf(z-ceilingz==0-6,"Floor")
TNT1 A 0 A_SpawnItemEx("ScorchedLandSpawnerD",-20,0,-(z-floorz),6,0,0,90,1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ScorchedLandSpawnerD2",-20,0,-(z-floorz),6,0,0,-90,1|SXF_NOCHECKPOSITION)
TNT1 A 1
stop
Floor:
TNT1 A 0 A_SpawnItemEx("ScorchedLandSpawnerD",0,0,-(z-floorz),6,0,0,90,1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ScorchedLandSpawnerD2",0,0,-(z-floorz),6,0,0,-90,1|SXF_NOCHECKPOSITION)
TNT1 A 1
stop
}
}

actor ScorchedLandDB : ScorchedLandD{translation "192:193=205:205","242:242=74:74","0:9=4:4", "199:199=74:74", "202:202=205:205"}
actor ScorchedLandDR : ScorchedLandD{translation "192:193=171:171","242:242=41:41","0:9=4:4", "199:199=41:41", "202:202=171:171"}
actor ScorchedLandDO : ScorchedLandD{translation "192:193=104:104","242:242=128:128","0:9=4:4", "199:199=128:128", "202:202=104:104"}
actor ScorchedLandDP : ScorchedLandD{translation "192:193=229:229","242:242=232:232","0:9=4:4", "199:199=232:232", "202:202=229:229"}

actor ScorchedLandTravelFX
{
PROJECTILE
+THRUACTORS
Scale 2.5
Obituary "$OB_SUNSLAND"
damagetype "DMGNoHitstun"
+FLOORHUGGER
States
{
Spawn:
TNT1 AA 0
SUHA A 0 A_PlaySound("weapon/sunstaroverheat",CHAN_BODY,0.5)
SUNS O 1 A_Explode(4,28,0,0,28)
TNT1 A 0 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
stop
}
}

actor ScorchedLandTravelFX2
{
PROJECTILE
+THRUACTORS
Scale 2.5
Obituary "$OB_SUNSLAND"
damagetype "DMGNoHitstun"
+FLOORHUGGER
States
{
Spawn:
TNT1 AA 0
SUHA A 0 A_PlaySound("weapon/sunstaroverheat",CHAN_BODY,0.5)
SUNS P 1 A_Explode(4,28,0,0,28)
TNT1 A 0 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
stop
}
}

actor ScorchedLandTravelFXKill
{
PROJECTILE
renderstyle add
+THRUACTORS
Scale 2.5
Obituary "$OB_SUNSLAND"
damagetype "DMGNoHitstun"
+FLOORHUGGER
States
{
Spawn:
TNT1 AA 0
SUNS OOOPPP 1 A_FadeOut
loop
}
}

actor ScorchedLandFXSpawner
{
+MISSILE
+FLOORHUGGER
+DONTBLAST
+THRUACTORS
+DONTSPLASH
+CLIENTSIDEONLY
Radius 2
Height 2
States
{
Spawn:
TNT1 A 0 A_SpawnItemEx("ScorchedLandFX1",0,0,8,random(6,12),0,random(4,10),random(10,80),1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFX1",0,0,8,random(6,12),0,random(4,10),random(100,170),1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFX2",0,0,8,random(6,12),0,random(4,10),random(190,260),1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFX2",0,0,8,random(6,12),0,random(4,10),random(280,350),1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFX1",0,-3,10,0,-5,6,0,1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFX2",0,3,10,0,5,6,0,1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFX1",0,3,4,0,5,-6,0,1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFX2",0,-3,4,0,-5,-6,0,1|SXF_NOCHECKPOSITION)
TNT1 A 0 A_PlaySound("misc/lava",CHAN_BODY,1,0,1)
TNT1 A 0 A_Stop
DKC1 A 0 A_SetScale(6,6)
DKC1 GHIJK 2
stop
}
}

actor ScorchedLandFX1
{
+MISSILE
+DONTBLAST
+THRUACTORS
+DONTSPLASH
+CLIENTSIDEONLY
ReactionTime 8
Radius 2
Height 2
Scale 1.5
Renderstyle Translucent
Alpha 0.75
States
{
Spawn:
SUNS S 1
TNT1 A 1
SUNS T 1
TNT1 A 1
SUNS U 1
TNT1 A 0 A_CountDown
loop
}
}

actor ScorchedLandFX2 : ScorchedLandFX1 {Scale 1}

actor ScorchedLandSpawner
{
PROJECTILE
+DONTBLAST
+DONTREFLECT
+THRUACTORS
+FLOORHUGGER
+BOUNCEONWALLS
+SKYEXPLODE
BounceFactor 1
WallBounceFactor 1
BounceCount 2
Damage (0)
Radius 25
Height 26
Speed 7
MaxStepHeight 0
MaxDropOffHeight 0
ReactionTime 2
Scale 2.5
States
{
Spawn:
TNT1 AA 0
SUNS O 4
goto SpawnLOOP
SpawnLOOP:
TNT1 A 0 A_Countdown
TNT1 A 0 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFire",-10,0,0,0,0,0,0,1)
SUNS OOOPPP 1 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
SUNS O 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFire",-10,0,0,0,0,0,0,1)
SUNS OOOPPP 1 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
SUNS O 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFire",-10,0,0,0,0,0,0,1)
SUNS OOOPPP 1 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
SUNS O 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
Loop
Death:
TNT1 A 0
stop
}
}

actor ScorchedLandSpawnerD : ScorchedLandSpawner
{
states
{
Spawn:
TNT1 AA 0
SUNS O 4
goto SpawnLOOP
SpawnLOOP:
TNT1 A 0 A_Countdown
TNT1 A 0 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFire2",-10,0,0,0,0,0,0,1)
SUNS OOOPPP 1 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
SUNS O 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFire2",-10,0,0,0,0,0,0,1)
SUNS OOOPPP 1 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
SUNS O 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFire2",-10,0,0,0,0,0,0,1)
SUNS OOOPPP 1 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
SUNS O 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
Loop
}
}

actor ScorchedLandSpawner2 : ScorchedLandSpawner
{
States
{
Spawn:
TNT1 AA 0
SUNS P 4
goto SpawnLOOP
}
}

actor ScorchedLandSpawnerD2 : ScorchedLandSpawnerD
{
States
{
Spawn:
TNT1 AA 0
SUNS P 4
goto SpawnLOOP
SpawnLOOP:
TNT1 A 0 A_Countdown
TNT1 A 0 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFire2",-10,0,0,0,0,0,0,1)
SUNS OOOPPP 1 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
SUNS O 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFire2",-10,0,0,0,0,0,0,1)
SUNS OOOPPP 1 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
SUNS O 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
TNT1 A 0 A_SpawnItemEx("ScorchedLandFire2",-10,0,0,0,0,0,0,1)
SUNS OOOPPP 1 A_SpawnItemEx("ScorchedLandTravelFXKill",0,0,-(z-floorz),0,0,0,0,1)
SUNS O 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
Loop
}
}

actor ScorchedLandFire
{
PROJECTILE
Obituary "$OB_SUNSLAND"
damagetype "FireM_Spin"
+DONTBLAST
+DONTREFLECT
+FLOORHUGGER
+THRUACTORS
Radius 23
Height 58
Damage (11)
Speed 0
Scale 2.5
ReactionTime 19
RenderStyle "Translucent"
Alpha 0.1
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 ACS_NamedExecuteAlways("BULL_Tidifier", 0)
TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
TNT1 A 0 A_FadeIn(.05)
TNT1 A 0 A_ChangeFlag(THRUACTORS,false)
TNT1 A 0 A_SetTranslucent(1.0,0)
SUNS VVVVVV 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
goto Spawn2
Spawn2:
TNT1 A 0 A_Countdown
SUNS TTTTTTUUUUUUVVVVVV 1 A_JumpIfInTargetInventory("SunstarFireStopFlag",1,"Death")
loop
Death:
TNT1 A 0
stop
}
}

actor ScorchedLandFire2 : ScorchedLandFire
{
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 ACS_NamedExecuteAlways("BULL_Tidifier", 0)
TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS T 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
SUNS U 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
TNT1 A 0 A_FadeIn(.05)
TNT1 A 0 A_ChangeFlag(THRUACTORS,false)
TNT1 A 0 A_SetTranslucent(1.0,0)
SUNS VVVVVV 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
goto Spawn2
Spawn2:
TNT1 A 0 A_Countdown
SUNS TTTTTTUUUUUUVVVVVV 1 A_JumpIfInTargetInventory("SunstarFireStopFlag2",1,"Death")
loop
Death:
TNT1 A 0
stop
}
}

actor DysonSphere
{
Translation "10:250=219:219", "0:9=4:4", "192:192=4:4", "198:198=55:55"
PROJECTILE
Obituary "$OB_SUNSDYS1"
damagetype "DMGNoHitstun"
damage (11)
Height 10
Radius 10
speed 45
scale 3.5
Gravity 0.8
SeeSound "weapon/sunstardysonsee"
States
{
Spawn:
TNT1 A 0
TNT1 A 0 ACS_NamedExecuteAlways("BULL_Tidifier", 0)
TNT1 A 0 A_SetScale(4.5,4.5)
Goto SpawnLoop
Spawn2: //(Unused)
TERV CD 1 A_ScaleVelocity(0.97)
TNT1 A 0 A_SetScale(4.4,4.4)
TNT1 AAA 0 A_SpawnItemEx("DysonSphereFX1",random(-6,6),random(-12,12),random(-12,12),momx*-0.4,momy*-0.4,momz*-0.5,0,9)
TERV CD 1 A_ScaleVelocity(0.97)
TNT1 A 0 A_SetScale(4.3,4.3)
TNT1 AAA 0 A_SpawnItemEx("DysonSphereFX1",random(-6,6),random(-12,12),random(-12,12),momx*-0.5,momy*-0.5,momz*-0.5,0,9)
TERV CD 1 A_ScaleVelocity(0.97)
TNT1 A 0 A_SetScale(4.2,4.2)
TNT1 AAA 0 A_SpawnItemEx("DysonSphereFX1",random(-6,6),random(-12,12),random(-12,12),momx*-0.5,momy*-0.5,momz*-0.5,0,9)
TERV CD 1 A_ScaleVelocity(0.97)
TNT1 A 0 A_SetScale(4.1,4.1)
TNT1 AA 0 A_SpawnItemEx("DysonSphereFX1",random(-6,6),random(-12,12),random(-12,12),momx*-0.5,momy*-0.5,momz*-0.5,0,9)
TERV CD 1 A_ScaleVelocity(0.97)
TNT1 A 0 A_SetScale(4.0,4.0)
TNT1 AA 0 A_SpawnItemEx("DysonSphereFX1",random(-6,6),random(-12,12),random(-12,12),momx*-0.5,momy*-0.5,momz*-0.5,0,9)
TERV CD 1 A_ScaleVelocity(0.97)
TNT1 A 0 A_SetScale(3.9,3.9)
TNT1 AA 0 A_SpawnItemEx("DysonSphereFX1",random(-6,6),random(-12,12),random(-12,12),momx*-0.5,momy*-0.5,momz*-0.5,0,9)
TERV CD 1 A_ScaleVelocity(0.97)
TNT1 A 0 A_SetScale(3.8,3.8)
TNT1 A 0 A_SpawnItemEx("DysonSphereFX1",random(-6,6),random(-12,12),random(-12,12),momx*-0.5,momy*-0.5,momz*-0.5,0,9)
SUNS L 1 A_ScaleVelocity(0.97)
TERV D 1 A_ScaleVelocity(0.97)
TNT1 A 0 A_SetScale(3.7,3.7)
TNT1 A 0 A_SpawnItemEx("DysonSphereFX1",random(-6,6),random(-12,12),random(-12,12),momx*-0.5,momy*-0.5,momz*-0.5,0,9)
SUNS L 1 A_ScaleVelocity(0.97)
TERV D 1 A_ScaleVelocity(0.97)
TNT1 A 0 A_SetScale(3.6,3.6)
TNT1 A 0 A_SpawnItemEx("DysonSphereFX1",random(-6,6),random(-12,12),random(-12,12),momx*-0.5,momy*-0.5,momz*-0.5,0,9)
DSHO A 0 A_ChangeFlag("NOGRAVITY",FALSE)
TNT1 A 0 A_SetScale(3.5,3.5)
SpawnLoop:
SUNS KM 2 A_SpawnItemEx("DysonSphereFX1",random(-6,6),random(-12,12),random(-12,12),momx*-0.5,momy*-0.5,momz*-0.5,0,9)
loop
Death:
DKC1 G 0 A_StopSound
DKC1 G 0 A_Stop
TNT1 A 0 A_PlaySound("misc/sharklaser",CHAN_BODY,0.33,0,2.5)
DKC1 A 0 A_ChangeFlag("NOGRAVITY",TRUE)
DKC1 A 0 A_SetScale(2,2)
DKC1 G 0 A_Explode(5,80,0,0,40)
//DKC1 GHIJK 2
X_8B ABCDEF 2
stop
}
}

actor DysonSphereB : DysonSphere{translation "10:250=74:74","0:9=4:4", "192:192=4:4", "198:198=74:74"}
actor DysonSphereR : DysonSphere{translation "10:250=41:41","0:9=4:4", "192:192=4:4", "198:198=41:41"}
actor DysonSphereO : DysonSphere{translation "10:250=128:128","0:9=4:4", "192:192=4:4", "198:198=128:128"}
actor DysonSphereP : DysonSphere{translation "10:250=232:232","0:9=4:4", "192:192=4:4", "198:198=232:232"}

actor DysonSphereFX1 : BasicClientSide
{
-NOGRAVITY
scale 0.8
States
{
Spawn:
TNT1 A 0
SUNS K 2
SUNS M 1 A_Fadeout(0.10)
TNT1 A 0 A_Jump(256,1)
Spawn1:
SUNS MKKMMK 1 A_Fadeout(0.15)
loop
}
}

actor DysonSphereHeavy : DysonSphere
{
Speed 48
DamageType "DMGNoHitstun"
Obituary "$OB_SUNSDYS2"
SeeSound "weapon/sunstardysonsee"
+BOUNCEONCEILINGS
+BOUNCEONWALLS
+BOUNCEONFLOORS
+USEBOUNCESTATE
BounceFactor 1
BounceCount 2
Gravity 0.9
states
{
Spawn:
TNT1 A 0
TNT1 A 0 ACS_NamedExecuteAlways("BULL_Tidifier", 0)
Spawn2:
TERV C 1 A_Explode(1,56,0,0,56)
SUNS N 1 A_Explode(1,56,0,0,56)
TERV D 1 A_Explode(1,56,0,0,56)
SUNS N 1 A_Explode(1,56,0,0,56)
DKC1 G 0 A_ScaleVelocity(0.75)
TNT1 A 0 A_GiveInventory("CutterFlag",1)
TNT1 AAA 0 A_SpawnItemEx("DysonSphereFX1",random(-20,10),random(-30,30),random(-30,30),momx*-0.7,momy*-0.7,momz*-0.7,0,9)
TERV C 1 A_Explode(1,56,0,0,56)
SUNS N 1 A_Explode(1,56,0,0,56)
TERV D 1 A_Explode(1,56,0,0,56)
SUNS N 1 A_Explode(1,56,0,0,56)
DKC1 G 0 A_ScaleVelocity(0.75)
TNT1 A 0 A_GiveInventory("CutterFlag",1)
TNT1 AAA 0 A_SpawnItemEx("DysonSphereFX1",random(-20,10),random(-30,30),random(-30,30),momx*-0.7,momy*-0.7,momz*-0.7,0,9)
TERV C 1 A_Explode(1,56,0,0,56)
SUNS N 1 A_Explode(1,56,0,0,56)
TERV D 1 A_Explode(1,56,0,0,56)
SUNS N 1 A_Explode(1,56,0,0,56)
DKC1 G 0 A_ScaleVelocity(0.75)
TNT1 A 0 A_GiveInventory("CutterFlag",1)
TNT1 AAA 0 A_SpawnItemEx("DysonSphereFX1",random(-20,10),random(-30,30),random(-30,30),momx*-0.7,momy*-0.7,momz*-0.7,0,9)
DSHO A 0 A_ChangeFlag("NOGRAVITY",FALSE)
TERV C 1 A_Explode(1,56,0,0,56)
SUNS N 1 A_Explode(1,56,0,0,56)
TERV D 1 A_Explode(1,56,0,0,56)
SUNS N 1 A_Explode(1,56,0,0,56)
DKC1 G 0 A_ScaleVelocity(0.75)
TNT1 A 0 A_GiveInventory("CutterFlag",1)
TNT1 AA 0 A_SpawnItemEx("DysonSphereFX1",random(-20,10),random(-30,30),random(-30,30),momx*-0.7,momy*-0.7,momz*-0.7,0,9)
SpawnLoop:
SUNS NKNMNLNMNL 1 A_Explode(1,56,0,0,56)
loop
Bounce:
DSHO A 0 A_ChangeFlag("NOGRAVITY",FALSE)
TNT1 A 0 A_JumpIfInventory("CutterFlag",4,"BounceLoop")
TNT1 A 0 A_JumpIfInventory("CutterFlag",3,"Bounce4")
TNT1 A 0 A_JumpIfInventory("CutterFlag",2,"Bounce3")
TNT1 A 0 A_JumpIfInventory("CutterFlag",1,"Bounce2")
goto BounceFull
BounceFull:
SUNS KMLM 1
DKC1 G 0 A_ScaleVelocity(0.75)
TNT1 AAA 0 A_SpawnItemEx("DysonSphereFX1",random(-20,10),random(-30,30),random(-30,30),momx*-0.7,momy*-0.7,momz*-0.7,0,9)
Bounce2:
SUNS LKML 1
DKC1 G 0 A_ScaleVelocity(0.75)
TNT1 AAA 0 A_SpawnItemEx("DysonSphereFX1",random(-20,10),random(-30,30),random(-30,30),momx*-0.7,momy*-0.7,momz*-0.7,0,9)
Bounce3:
SUNS MLKM 1
DKC1 G 0 A_ScaleVelocity(0.75)
TNT1 AAA 0 A_SpawnItemEx("DysonSphereFX1",random(-20,10),random(-30,30),random(-30,30),momx*-0.7,momy*-0.7,momz*-0.7,0,9)
Bounce4:
SUNS LMLK 1
DKC1 G 0 A_ScaleVelocity(0.75)
TNT1 AA 0 A_SpawnItemEx("DysonSphereFX1",random(-20,10),random(-30,30),random(-30,30),momx*-0.7,momy*-0.7,momz*-0.7,0,9)
goto BounceLoop
BounceLoop:
SUNS KMLM 1
loop
Death:
DKC1 G 0 A_StopSound
DKC1 G 0 A_Stop
TNT1 A 0 A_PlaySound("misc/sharklaser",CHAN_BODY,0.33,0,2.5)
DKC1 G 0 A_SetDamageType("DMGNoHitstun")
DKC1 A 0 A_ChangeFlag("NOGRAVITY",TRUE)
DKC1 A 0 A_SetScale(2.5,2.5)
DKC1 G 0 A_Explode(5,80,0,0,40)
//DKC1 GHIJK 2
X_8B ABCDEF 2
stop
}
}

actor DysonSphereHeavyB : DysonSphereHeavy{translation "10:250=74:74","0:9=4:4", "192:192=4:4", "198:198=74:74"}
actor DysonSphereHeavyR : DysonSphereHeavy{translation "10:250=41:41","0:9=4:4", "192:192=4:4", "198:198=41:41"}
actor DysonSphereHeavyO : DysonSphereHeavy{translation "10:250=128:128","0:9=4:4", "192:192=4:4", "198:198=128:128"}
actor DysonSphereHeavyP : DysonSphereHeavy{translation "10:250=232:232","0:9=4:4", "192:192=4:4", "198:198=232:232"}

actor SunChaser : FastProjectile
{
PROJECTILE
translation "192:193=55:55","196:196=55:55","242:242=219:219","0:9=4:4"
+DONTBLAST
+DONTREFLECT
-NOGRAVITY
Damagetype "DMGNoHitstun"
Obituary "$OB_SUNSCHAS"
Height 10
Radius 8
Damage (20)
Scale 0.5
Gravity 2
States
{
Spawn:
ICWB R 0
TNT1 A 0 ACS_NamedExecuteAlways("BULL_Tidifier", 0)
ICWB R 0 ThrustThingZ(0,90,1,1)
goto Spawn2
Spawn2:
ACID D 2 
loop
Crash:
TNT1 A 0
stop
Death:
TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
TNT1 A 0 A_SpawnItemEx("SunChaserF",0,0,0,28,0,0,0,1)
stop
}
}

actor SunChaserB : SunChaser{translation "192:193=205:205","196:196=74:74","242:242=74:74","0:9=4:4"}
actor SunChaserR : SunChaser{translation "192:193=171:171","196:196=41:41","242:242=41:41","0:9=4:4"}
actor SunChaserO : SunChaser{translation "192:193=104:104","196:196=128:128","242:242=128:128","0:9=4:4"}
actor SunChaserP : SunChaser{translation "192:193=229:229","196:196=232:232","242:242=232:232","0:9=4:4"}

actor SunChaserF
{
PROJECTILE
damagetype "DMGNoHitstun"
Obituary "$OB_SUNSCHAS"
+DONTBLAST
+DONTREFLECT
+FLOORHUGGER
+LOOKALLAROUND
+HITTRACER
+SKYEXPLODE
speed 28
damage (12)
radius 14
height 10
scale 2.5
states
{
Spawn:
VENB G 0
TNT1 A 0 ACS_NamedExecuteAlways("BULL_Tidifier", 0)
goto Spawn2
Spawn2:
TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
SUNS O 0 A_SpawnItemEx("SunChaserFFX1",random(-3,3),random(-6,6),0,random(-6,-12),0,random(6,8),0,1)
SUNS O 1 A_JumpIf(ACS_NamedExecuteWithResult("SunstarChaserACS",31) == 1,"Death")
SUNS O 1 A_JumpIf(ACS_NamedExecuteWithResult("SunstarChaserACS",31) == 1,"Death")
SUNS P 1 A_JumpIf(ACS_NamedExecuteWithResult("SunstarChaserACS",31) == 1,"Death")
SUNS P 1 A_JumpIf(ACS_NamedExecuteWithResult("SunstarChaserACS",31) == 1,"Death")
loop
Death:
VENB O 0 A_SpawnItemEx("SunChaserU",0,0,0,0,0,35,0,1)
stop
XDeath:
Crash:
XMFX K 0
stop
}
}

actor SunChaserFFX1
{
+MISSILE
+DONTBLAST
+THRUACTORS
+DONTSPLASH
+CLIENTSIDEONLY
Radius 2
Height 2
Scale 1
States
{
Spawn:
//TNT1 A 2
TERV CDCDCDCDCDCD 2 A_SetScale(scalex-0.05,scaley-0.05)
SpawnLOOP:
TERV CD 2 A_Fadeout(0.1)
TERV C 0 A_SetScale(scalex-0.05,scaley-0.05)
Goto SpawnLOOP
}
}

actor SunChaserFFX2 : SunChaserFFX1 {-FLOORHUGGER gravity 1}

actor SunChaserU : SunChaserF
{
-FLOORHUGGER
speed 0
Obituary "$OB_SUNSCHAU"
states
{
Spawn:
VENB G 0
TNT1 A 0 ACS_NamedExecuteAlways("BULL_Tidifier", 0)
SUNS Q 1 A_SpawnItemEx("SunChaserFFX2",random(-6,6),random(-12,12),random(-12,12),0,0,0,0,1)
SUNS R 1
SUNS R 1 A_SpawnItemEx("SunChaserFFX2",random(-6,6),random(-12,12),random(-12,12),0,0,0,0,1)
SUNS R 1 
goto Spawn+2
Death:
VENB O 0
stop
XDeath:
Crash:
XMFX K 0
stop
}
}

actor SolarBoosterSelf : CustomInventory
{
states
{
Pickup:
TNT1 A 0
TNT1 A 0 A_SpawnItemEx("CoronaFXHelper",0,0,0,0,0,0,0,1)
TNT1 A 0 A_GiveInventory("SolarPowerSTR",1)
TNT1 A 0 A_GiveInventory("SolarPowerDEF",1)
TNT1 A 0 A_GiveInventory("SolarPowerSPD",1)
stop
}
}

actor SolarBoosterB : CustomInventory
{
states
{
Pickup:
TNT1 A 0
TNT1 A 0 A_JumpIfInventory("LightTeamFlag",1,"Pickup2")
stop
Pickup2:
TNT1 A 0
TNT1 A 0 A_SpawnItemEx("CoronaFXHelper",0,0,0,0,0,0,0,1)
TNT1 A 0 A_GiveInventory("SolarPowerSTR",1)
TNT1 A 0 A_GiveInventory("SolarPowerDEF",1)
TNT1 A 0 A_GiveInventory("SolarPowerSPD",1)
stop
}
}

actor CoronaFXHelper : BasicHelper
{
ReactionTime 240
scale 2.5
States
{
Spawn:
TNT1 A 0
TNT1 A 2 A_GiveToTarget("CoronaFXNewActiveFlag",1)
TNT1 A 2 A_GiveToTarget("CoronaFX_P")
goto Spawn2
Spawn2:
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 1 A_JumpIfInTargetInventory("CoronaFXNewActiveFlag",1,"Death")
TNT1 A 0 A_GiveToTarget("CoronaFX_P")
TNT1 A 0 A_CountDown
loop
Death:
TNT1 A 1
stop
}
}

actor CoronaFXNewActiveFlag : PowerUp
{
Powerup.Duration 3
}

Actor CoronaFX_P : CustomInventory
{
States
{
Pickup:
TNT1 A 0
TNT1 A 0 A_JumpIf(alpha == 0,"Dont")
TNT1 A 0 A_SpawnItemEx("CoronaFX",0,1,90,0,0,0,0,1)
stop
Dont:
TNT1 A 0
stop
}
}

actor CoronaFX
{
+NOGRAVITY
-SOLID
+DONTSPLASH
+DONTBLAST
+THRUGHOST
+THRUACTORS
+NOINTERACTION
+CLIENTSIDEONLY
Scale 1.75
States
{
Spawn:
TNT1 A 0
SUNS WW 1 A_Warp(AAPTR_TARGET,0,0,90,0,WARPF_NOCHECKPOSITION)
stop
}
}

actor SolarPowerSTR : PowerDamage
{
damagefactor "normal", 1.15
Powerup.Duration 240
}

actor SolarPowerDEF : PowerProtection
{
Powerup.Duration 240
damagefactor "normal", 0.80
damagefactor "DynaTag", 1
damagefactor "MagicCardBF", 1
}

actor SolarPowerSPD : PowerSpeed
{
Speed 1.15
Powerup.Duration 240
+POWERSPEED.NOTRAIL
}

actor SolarBoosterR : SolarBoosterB
{
states
{
Pickup:
TNT1 A 0
TNT1 A 0 A_JumpIfInventory("WilyTeamFlag",1,"Pickup2")
stop
}
}

actor SolarBoosterO : SolarBoosterB
{
states
{
Pickup:
TNT1 A 0
TNT1 A 0 A_JumpIfInventory("CossackTeamFlag",1,"Pickup2")
stop
}
}

actor SolarBoosterP : SolarBoosterB
{
states
{
Pickup:
TNT1 A 0
TNT1 A 0 A_JumpIfInventory("KingTeamFlag",1,"Pickup2")
stop
}
}

actor SolarVentBurst : BasicExplosion
{
var int user_theta;
Translation "10:249=4:4", "0:9=4:4", "250:250=219:219"
Damagetype "SolarVent"
Obituary "$OB_SUNSVENT"
Scale 0.1
States
{
Spawn:
TNT1 A 0
TNT1 A 0
goto Spawn2
Spawn2:
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,0,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,15,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,30,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,45,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,60,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,75,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,90,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,105,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,120,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,135,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,150,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,165,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,180,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,195,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,210,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,225,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,240,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,255,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,270,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,285,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,300,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,315,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,330,1)
TNT1 A 0 A_SpawnItemEx("SunShockWaveFX",0,0,-10,60,0,0,345,1)
SUNS Y 1 A_Explode(7,312,0,0,200)
SUNS Y 1 A_SetScale(0.3,0.3)
TNT1 A 0 A_Fadeout(0.2)
SUNS Y 1 A_SetScale(0.6,0.6)
TNT1 A 0 A_Fadeout(0.2)
SUNS Y 1 A_SetScale(0.9,0.9)
TNT1 A 0 A_Fadeout(0.2)
SUNS Y 1 A_SetScale(1.2,1.2)
TNT1 A 0 A_Fadeout(0.2)
SUNS Y 1 A_SetScale(1.5,1.5)
TNT1 A 0 A_Fadeout(0.2)
SUNS Y 1 A_SetScale(1.8,1.8)
TNT1 A 0 A_Fadeout(0.2)
SUNS Y 1 A_SetScale(2.2,2.2)
stop
}
}

actor SolarVentBurstB : SolarVentBurst
{
translation "192:193=4:4","242:242=74:74","0:9=196:196","250:250=205:205"
states
{
Spawn:
TNT1 A 0
TNT1 A 0 A_RadiusGive("SolarBoosterB",312,RGF_GIVESELF|RGF_PLAYERS,1)
goto Spawn2
}
}

actor SolarVentBurstR : SolarVentBurst
{
translation "192:193=4:4","242:242=41:41","0:9=170:170","250:250=171:171"
states
{
Spawn:
TNT1 A 0
TNT1 A 0 A_RadiusGive("SolarBoosterR",312,RGF_GIVESELF|RGF_PLAYERS,1)
goto Spawn2
}
}

actor SolarVentBurstO : SolarVentBurst
{
translation "192:193=4:4","242:242=128:128","0:9=138:138","250:250=104:104"
states
{
Spawn:
TNT1 A 0
TNT1 A 0 A_RadiusGive("SolarBoosterO",312,RGF_GIVESELF|RGF_PLAYERS,1)
goto Spawn2
}
}

actor SolarVentBurstP : SolarVentBurst
{
translation "192:193=4:4","242:242=232:232","0:9=214:214","250:250=229:229"
states
{
Spawn:
TNT1 A 0
TNT1 A 0 A_RadiusGive("SolarBoosterP",312,RGF_GIVESELF|RGF_PLAYERS,1)
goto Spawn2
}
}

actor SunShockWaveFX : BasicClientSide
{
Scale 1
States
{
Spawn:
TNT1 A 0
DUOR T 1
DUOR T 1 A_Fadeout(0.40)
TNT1 A 0 A_Jump(256,1)
Spawn1:
DUOR T 2 A_Fadeout(0.20)
DUOR T 1 A_Fadeout(0.10)
loop
}
}

actor SunstarOverheatFXWatcherSpawner : BasicHelper
{
+CLIENTSIDEONLY
States
{
Spawn:
TNT1 A 0
TNT1 A 2 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 AAA 1 A_JumpIfInTargetInventory("PowerInvulnerable",1,"Spawn")
TNT1 A 2 A_JumpIf(CallACS("IsTargetClient")==1,"Death")
goto Spawn2Check
Spawn2Check:
TNT1 A 0 A_JumpIfInTargetInventory("LightTeamFlag",1,"Spawn2B")
TNT1 A 0 A_JumpIfInTargetInventory("WilyTeamFlag",1,"Spawn2R")
TNT1 A 0 A_JumpIfInTargetInventory("CossackTeamFlag",1,"Spawn2O")
TNT1 A 0 A_JumpIfInTargetInventory("KingTeamFlag",1,"Spawn2P")
goto Spawn2
Spawn2:
TNT1 A 2 A_SpawnItemEx("SunstarOverheatFXWatcher")
stop
Spawn2B:
TNT1 A 2 A_SpawnItemEx("SunstarOverheatFXWatcherB")
stop
Spawn2R:
TNT1 A 2 A_SpawnItemEx("SunstarOverheatFXWatcherR")
stop
Spawn2O:
TNT1 A 2 A_SpawnItemEx("SunstarOverheatFXWatcherO")
stop
Spawn2P:
TNT1 A 2 A_SpawnItemEx("SunstarOverheatFXWatcherP")
stop
Death:
TNT1 A 0
stop
}
}	

actor SunstarOverheatFXWatcher : BasicHelper
{
Translation "4:4=4:4", "192:192=55:55", "198:198=219:219", "255:255=217:217"
Renderstyle "Normal"
Scale 2.4
States
{
Spawn:
TNT1 A 0
TNT1 A 5
goto Spawn2
Spawn2:
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverheatAmmo",80,"Show3")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverheatAmmo",40,"Show2")
TNT1 A 1 A_JumpIfInTargetInventory("NuclearOverclockAmmo",120,"Show1")
loop

Show1:
SUNZ AAA 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
SUNZ BBB 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverheatAmmo",80,"Show3")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverheatAmmo",40,"Show2")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverclockAmmo",120,1)
goto Spawn2
SUNZ CCC 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
SUNZ DDD 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverheatAmmo",80,"Show3")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverheatAmmo",40,"Show2")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverclockAmmo",120,"Show1")
goto Spawn2

Show2:
SUNZ EEE 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
SUNZ FFF 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverheatAmmo",80,"Show3")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverclockAmmo",120,1)
goto Spawn2
SUNZ GGG 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverclockAmmo",120,1)
goto Spawn2
SUNZ HHH 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverheatAmmo",80,"Show3")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverheatAmmo",40,"Show2")
goto Spawn2

Show3:
SUNZ III 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverclockAmmo",120,1)
goto Spawn2
SUNZ JJJ 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverclockAmmo",120,1)
goto Spawn2
SUNZ KKK 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverclockAmmo",120,1)
goto Spawn2
SUNZ LLL 1 A_Warp(AAPTR_TARGET,-20,0,54,0,WARPF_NOCHECKPOSITION)
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 0 A_JumpIfInTargetInventory("NuclearOverheatAmmo",80,"Show3")
goto Spawn2
Death:
TNT1 A 1
stop
}
}

actor SunstarOverheatFXWatcherB : SunstarOverheatFXWatcher{Translation "4:4=4:4", "192:192=205:205", "198:198=74:74", "255:255=75:75"}
actor SunstarOverheatFXWatcherR : SunstarOverheatFXWatcher{Translation "4:4=4:4", "192:192=171:171", "198:198=41:41", "255:255=43:43"}
actor SunstarOverheatFXWatcherO : SunstarOverheatFXWatcher{Translation "4:4=4:4", "192:192=104:104", "198:198=128:128", "255:255=131:131"}
actor SunstarOverheatFXWatcherP : SunstarOverheatFXWatcher{Translation "4:4=4:4", "192:192=229:229", "198:198=232:232", "255:255=223:223"}

actor SunstarMain_CI : TeamColor_CI
{
states
{
FireX:
TNT1 A 0 A_FireCustomMissile("DysonSphere",0,0,8,0)
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("DysonSphereB",0,0,8,0)
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("DysonSphereR",0,0,8,0)
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("DysonSphereO",0,0,8,0)
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("DysonSphereP",0,0,8,0)
goto Done
Done:
TNT1 A 0 A_GiveInventory("NuclearOverclockAmmo",3)
stop
}
}

actor SunstarMain2_CI : TeamColor_CI
{
states
{
FireX:
TNT1 A 0 A_FireCustomMissile("DysonSphereHeavy",0,0,8,0)
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("DysonSphereHeavyB",0,0,8,0)
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("DysonSphereHeavyR",0,0,8,0)
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("DysonSphereHeavyO",0,0,8,0)
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("DysonSphereHeavyP",0,0,8,0)
goto Done
Done:
TNT1 A 0 A_GiveInventory("NuclearOverheatAmmo",5)
stop
}
}

actor SunstarAlt_CI : TeamColor_CI
{
states
{
FireX:
TNT1 A 0 A_FireCustomMissile("SunChaser",0,0,8,0)
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("SunChaserB",0,0,8,0)
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("SunChaserR",0,0,8,0)
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("SunChaserO",0,0,8,0)
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("SunChaserP",0,0,8,0)
goto Done
Done:
TNT1 A 0 A_GiveInventory("NuclearOverclockAmmo",2)
stop
}
}

actor SunstarAlt1_CI : TeamColor_CI
{
states
{
FireX:
TNT1 A 0 A_FireCustomMissile("ScorchedLand",0,0,8,0)
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("ScorchedLandB",0,0,8,0)
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("ScorchedLandR",0,0,8,0)
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("ScorchedLandO",0,0,8,0)
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("ScorchedLandP",0,0,8,0)
goto Done
Done:
TNT1 A 0 A_GiveInventory("NuclearOverheatAmmo",4)
stop
}
}

actor SunstarAlt2_CI : TeamColor_CI
{
states
{
FireX:
TNT1 A 0 A_FireCustomMissile("ScorchedLandD",0,0,8,0)
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("ScorchedLandDB",0,0,8,0)
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("ScorchedLandDR",0,0,8,0)
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("ScorchedLandDO",0,0,8,0)
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("ScorchedLandDP",0,0,8,0)
goto Done
Done:
TNT1 A 0 A_GiveInventory("NuclearOverheatAmmo",4)
stop
}
}

actor SunstarReload_CI : TeamColor_CI
{
states
{
FireX:
TNT1 A 0 A_SpawnItemEx("SolarVentBurst",0,0,35)
TNT1 A 0 A_GiveInventory("SolarBoosterSelf")
goto Done
FireB:
TNT1 A 0 A_SpawnItemEx("SolarVentBurstB",0,0,35)
goto Done
FireR:
TNT1 A 0 A_SpawnItemEx("SolarVentBurstR",0,0,35)
goto Done
FireO:
TNT1 A 0 A_SpawnItemEx("SolarVentBurstO",0,0,35)
goto Done
FireP:
TNT1 A 0 A_SpawnItemEx("SolarVentBurstP",0,0,35)
goto Done
}
}